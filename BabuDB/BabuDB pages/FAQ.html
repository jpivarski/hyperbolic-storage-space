<!DOCTYPE html>
<html style="cursor: auto ! important;"><head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
 
 <meta name="ROBOTS" content="NOARCHIVE">
 
 <link rel="icon" type="image/vnd.microsoft.icon" href="http://www.gstatic.com/codesite/ph/images/phosting.ico">
 
 
 <link rel="canonical" href="http://code.google.com/p/babudb/wiki/FAQ">
 
 <script async="" src="FAQ_files/cbgapi.js"></script><script gapi_processed="true" src="FAQ_files/plusone.js" async="" type="text/javascript"></script><script type="text/javascript">
 
 
 
 
 var codesite_token = "l8eqJWrKK_hvA-JgZM1myMxuHRM:1346573144346";
 
 
 var CS_env = {"profileUrl":["/u/115036434905974694138/"],"token":"l8eqJWrKK_hvA-JgZM1myMxuHRM:1346573144346","assetHostPath":"http://www.gstatic.com/codesite/ph","domainName":null,"assetVersionPath":"http://www.gstatic.com/codesite/ph/5121560014714628542","projectHomeUrl":"/p/babudb","relativeBaseUrl":"","projectName":"babudb","loggedInUserEmail":"jpivarski@gmail.com"};
 var _gaq = _gaq || [];
 _gaq.push(
 ['siteTracker._setAccount', 'UA-18071-1'],
 ['siteTracker._trackPageview']);
 
 _gaq.push(
 ['projectTracker._setAccount', 'UA-4530467-2'],
 ['projectTracker._trackPageview']);
 
 (function() {
 var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
 ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
 (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
 })();
 
 </script><script src="FAQ_files/ga.js" async="" type="text/javascript"></script>
 
 
 <title>FAQ - 
 babudb -
 
 This page contains answers to the most commonly asked questions. - 
 An embedded non-relational database for Java and C++ - Google Project Hosting
 </title>
 <link type="text/css" rel="stylesheet" href="FAQ_files/core.css">
 
 <link type="text/css" rel="stylesheet" href="FAQ_files/ph_detail.css">
 
 
 
 <link type="application/atom+xml" rel="alternate" href="http://code.google.com/feeds/p/babudb/svnchanges/basic?path=/wiki/FAQ.wiki">
 
 
<!--[if IE]>
 <link type="text/css" rel="stylesheet" href="http://www.gstatic.com/codesite/ph/5121560014714628542/css/d_ie.css" >
<![endif]-->
 <style type="text/css">
 .menuIcon.off { background: no-repeat url(http://www.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 -42px }
 .menuIcon.on { background: no-repeat url(http://www.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 -28px }
 .menuIcon.down { background: no-repeat url(http://www.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 0; }
 
 
 #maincol {
 padding-top: 0;
 padding-bottom: 0;
 }

 
 </style>
</head>
<body class="t6">
<script type="text/javascript">
 window.___gcfg = {lang: 'en'};
 (function() 
 {var po = document.createElement("script");
 po.type = "text/javascript"; po.async = true;po.src = "https://apis.google.com/js/plusone.js";
 var s = document.getElementsByTagName("script")[0];
 s.parentNode.insertBefore(po, s);
 })();
</script>
<div class="headbg">

 <div id="gaia">
 

 <span>
 
 
 
 <a href="#" id="multilogin-dropdown" onclick="return false;"><u><b>jpivarski@gmail.com</b></u> <small>▼</small></a>
 
 
 | <a href="http://code.google.com/u/115036434905974694138/" id="projects-dropdown" onclick="return false;"><u>My favorites</u> <small>▼</small></a>
 | <a href="http://code.google.com/u/115036434905974694138/" onclick="_CS_click('/gb/ph/profile');" title="Profile, Updates, and Settings"><u>Profile</u></a>
 | <a href="https://www.google.com/accounts/Logout?continue=http%3A%2F%2Fcode.google.com%2Fp%2Fbabudb%2Fwiki%2FFAQ" onclick="_CS_click('/gb/ph/signout');"><u>Sign out</u></a>
 
 </span>

 </div>

 <div class="gbh" style="left: 0pt;"></div>
 <div class="gbh" style="right: 0pt;"></div>
 
 
 <div style="height: 1px"></div>
<!--[if lte IE 7]>
<div style="text-align:center;">
Your version of Internet Explorer is not supported. Try a browser that
contributes to open source, such as <a href="http://www.firefox.com">Firefox</a>,
<a href="http://www.google.com/chrome">Google Chrome</a>, or
<a href="http://code.google.com/chrome/chromeframe/">Google Chrome Frame</a>.
</div>
<![endif]-->



 <table style="padding:0px; margin: 0px 0px 10px 0px; width:100%" itemscope="" itemtype="http://schema.org/CreativeWork" cellpadding="0" cellspacing="0">
 <tbody><tr style="height: 58px;">
 
 <td id="plogo">
 <link itemprop="url" href="http://code.google.com/p/babudb">
 <a href="http://code.google.com/p/babudb/">
 
 
 <img src="FAQ_files/logo.png" alt="Logo" itemprop="image">
 
 </a>
 </td>
 
 <td style="padding-left: 0.5em">
 
 <div id="pname">
 <a href="http://code.google.com/p/babudb/"><span itemprop="name">babudb</span></a>
 </div>
 
 <div id="psum">
 <a id="project_summary_link" href="http://code.google.com/p/babudb/"><span itemprop="description">An embedded non-relational database for Java and C++</span></a>
 
 </div>
 
 
 </td>
 <td style="white-space:nowrap;text-align:right; vertical-align:bottom;">
 
 <form action="/hosting/search">
 <input size="30" name="q" type="text">
 
 <input name="projectsearch" value="Search projects" type="submit">
 </form>
 
 </td></tr>
 </tbody></table>

</div>

 
<div id="mt" class="gtb"> 
 <a href="http://code.google.com/p/babudb/" class="tab ">Project&nbsp;Home</a>
 
 
 
 
 <a href="http://code.google.com/p/babudb/downloads/list" class="tab ">Downloads</a>
 
 
 
 
 
 <a href="http://code.google.com/p/babudb/w/list" class="tab active">Wiki</a>
 
 
 
 
 
 <a href="http://code.google.com/p/babudb/issues/list" class="tab ">Issues</a>
 
 
 
 
 
 <a href="http://code.google.com/p/babudb/source/checkout" class="tab ">Source</a>
 
 
 
 
 
 
 
 <div class="gtbc"></div>
</div>
<table class="st" align="center" border="0" cellpadding="0" cellspacing="0" width="100%">
 <tbody><tr>
 
 
 
 
 <td class="subt">
 <div class="issueDetail">
<div class="isf">
 
 <span class="inIssueList"> 
 <span>Search</span>
 <form action="/p/babudb/w/list" method="GET" style="display:inline">
 <select id="can" name="can">
 <option disabled="disabled">Search within:</option>
 
 <option value="1">&nbsp;All wiki pages</option>
 <option value="3">&nbsp;Featured pages</option>
 <option value="2" selected="selected">&nbsp;Current pages</option>
 
 
 <option value="5">&nbsp;My starred pages</option>
 
 <option value="4">&nbsp;Deprecated pages</option>
 
 </select>
 <span>for</span>
 <span id="qq"><input size="38" id="searchq" name="q" autocomplete="off" type="text"></span>
 
 
 
 <input value="Search" type="submit">
 </form>
 </span>

 
 
 
 
 
 
 

</div>
</div>

 </td>
 
 
 
 
 
 
 <td class="bevel-right" align="right" valign="top"></td>
 </tr>
</tbody></table>


<script type="text/javascript">
 var cancelBubble = false;
 function _go(url) { document.location = url; }
</script>
<div id="maincol">

 
<!-- IE -->







 <style type="text/css">
 .delcom { background: #e8e8e8 }
 .commentcontent {
 margin: 2em;
 padding: 0px 10px;
 width: 66em;
 }
 .artifactcomment {
 border-top: 3px solid #c3d9ff;
 }
 #commentform {
 border-top: 3px solid #c3d9ff;
 }
 </style>

<div id="wikipage">
<table>
 <tbody><tr>
 
 
 <td style="vertical-align:top; padding-left:5px">
 
 <div id="wikiheader">
 
 <img id="star_img" src="FAQ_files/star_off.gif" style="cursor:pointer" onclick="_CS_toggleStar(this,
 {'scope': 'wiki',
 'user': '_CURRENT_USER',
 'item': 'babudb:FAQ'
 });" height="15" width="15">
 
 <span style="font-size:120%;font-weight:bold">FAQ</span>
 &nbsp;
 <div> 
 
 <i>This page contains answers to the most commonly asked questions.</i>
 
 
 
 <div id="wikiauthor" style="float:right">
 Updated <span title="Wed Mar  2 04:58:32 2011">
 Mar 2, 2011</span>
 
 by 

 <a class="userlink" href="http://code.google.com/u/108038338669804142648/">sten...@gmail.com</a>
 
 </div>
 </div>
 </div>
 
 <div id="wikicontent">
 <div class="vt" id="wikimaincol">
 <p><strong>Q</strong>: I am using BabuDB on Windows. Why do I get warnings from time to time, indicating that files on disk could not be deleted? <br><br> <strong>A</strong>:
 Unlike Unix, Windows holds mandatory locks on all open files, which 
keep them from being deleted. This also applies to memory-mapped files, 
which BabuDB uses by default to access persistently stored index data. 
When BabuDB internally creates a checkpoint, it attempts to delete 
redundant index files, which may fail as they are still in use. These 
files will be deleted when another checkpoint is created after the locks
 have been released. Please be aware that the warnings do not indicate 
data loss. </p><p><strong>Q</strong>: There are many different parameters in the <tt>BabuDBConfig</tt> constructors. What are the right settings? <br><br> <strong>A</strong>: The configuration parameters are documented in the Javadocs. If you are not sure about certain parameters, you can also use <tt>org.xtreemfs.babudb.config.ConfigBuilder</tt>
 for an easy-to-use generation of BabuDB configurations. The 
configuration builder will use default settings for many specific 
parameters. </p><p><strong>Q</strong>: Why am I getting <tt>OutOfMemoryError</tt>s? <br><br> <strong>A</strong>:
 Your insertion rate of key-value pairs might be too high. This leads to
 a growth of memory-resident trees between checkpoints. Furthermore, 
each insertion needs to be enqueued at the disk logger to be 
persistently recorded where it consumes memory. If your insertion rate 
is too high, the garbage collector may also fail to catch up with new 
memory allocations. Solutions: assign more memory to the VM, reduce the 
insertion rate, reduce the log size threshold for checkpoints. </p><p><strong>Q</strong>: Is BabuDB thread-safe? <br><br> <strong>A</strong>: BabuDB is only thread-safe if asynchronous request processing with worker threads is enabled, i.e. <tt>babudb.worker.numThreads</tt> has been assigned some value &gt; 0. </p><p><strong>Q</strong>: Do I need worker threads? <br><br> <strong>A</strong>:
 It depends. Setting the number of worker threads to 0 causes all 
requests to be processed in the context of the application thread that 
performes the insertion. This generally leads to a better performance, 
as no enqueueing and dequeueing of requests is required. However, direct
 access to BabuDB is only allowed if single databases are not accessed 
concurrently. If your application is multithreaded and different threads
 access BabuDB in parallel, worker threads need to be used instead. </p><p><strong>Q</strong>: Why do I experience a bad insert/lookup performance? <br><br> <strong>A</strong>: The performance can be substantially improved by disabling synchronous logging, i.e. by setting <tt>babudb.sync</tt> to <tt>ASYNC</tt>.
 This causes log entries to be written to disk in an asynchronous 
manner; however, this comes at the cost of reduced consistency 
guarantees in the event of a crash. If the system is shut down in a 
forceful manner, changes pertaining to requests that were enqueued but 
not yet written by the disk logger will be lost. Note that it is 
possible to limit the amount of lost changes by setting <tt>babudb.pseudoSyncWait</tt> to some value &gt; 0 to trade off performance against data loss in the event of a crash. </p><p><strong>Q</strong>: Will I get a better performance if I run BabuDB with worker threads? <br><br> <strong>A</strong>:
 It depends. If only single-threaded sequential access to a single 
BabuDB index is needed, the best performance is attained if worker 
threads are disabled, i.e. <tt>babudb.worker.numThreads</tt> is set to 
0. If many indices need to be accessed in parallel on a multi-core 
machine, a reasonable number of worker threads may increase the 
performance. </p><p><strong>Q</strong>: Why do I get errors when I try to iterate over an index via a prefix lookup while concurrently performing insertions? <br><br> <strong>A</strong>: It is not allowed to concurrently iterate and insert. That's a limitation of the Java <tt>TreeMap</tt>,
 which backs the in-memory trees used in BabuDB. If you need to do both 
in a concurrent fashion, you have to take a snapshot of your index and 
iterate over the snapshot instead. </p>
 </div>
 </div>
 </td></tr><tr>
</tr></tbody></table>
 </div>


 
 
 
 
 
 <div id="commentform">
 <form action="../w/detail.do" method="post">
 <table>
 <tbody><tr><td class="vt">
 <input name="pagename" value="FAQ" type="hidden">
 <input name="token" value="l8eqJWrKK_hvA-JgZM1myMxuHRM:1346573144346" type="hidden">
 <div class="graytext" style="float: right;">
 Hint: You can use <a href="http://code.google.com/p/support/wiki/WikiSyntax">Wiki Syntax.</a>
 </div>
 <div>Enter a comment:</div>
 <textarea name="content" rows="6" cols="100"></textarea><br><br>
 <input name="submit" value="Submit" type="submit">
 </td>
 </tr></tbody></table>
 </form>
 </div>
 
 
 
 
 
 <form name="delcom" action="../w/delComment.do" method="POST">
 <input name="sequence_num" value="" type="hidden">
 <input name="create_time" value="" type="hidden">
 <input name="mode" value="" type="hidden">
 <input name="pagename" value="FAQ" type="hidden">
 <input name="token" value="l8eqJWrKK_hvA-JgZM1myMxuHRM:1346573144346" type="hidden">
 </form>


 <script src="FAQ_files/prettify.js"></script>
 <script type="text/javascript">
 prettyPrint();
 </script>

<script type="text/javascript" src="FAQ_files/dit_scripts.js"></script>



  
 
 
 <script type="text/javascript" src="FAQ_files/ph_core.js"></script>
 
 <script type="text/javascript" src="FAQ_files/ph_dwiki.js"></script>
 
 
 
 
</div> 

<div id="footer" dir="ltr">
 <div class="text">
 <a href="http://code.google.com/projecthosting/terms.html">Terms</a> -
 <a href="http://www.google.com/privacy.html">Privacy</a> -
 <a href="http://code.google.com/p/support/">Project Hosting Help</a>
 </div>
</div>
 <div class="hostedBy" style="margin-top: -20px;">
 <span style="vertical-align: top;">Powered by <a href="http://code.google.com/projecthosting/">Google Project Hosting</a></span>
 </div>

 
 


 
 



<div style="position: absolute; display: none; top: 18px; left: 908px;" id="menuDiv-projects-dropdown" class="menuDiv instance0"><div style="display: none;" class="menuCategory default"></div><b style="display: block;" class="categoryTitle projects">Projects</b><div class="menuCategory projects first"><a href="http://code.google.com/p/cassius/" style="display: block;" class="menuItem">cassius</a><a href="http://code.google.com/p/plothon/" style="display: block;" class="menuItem">plothon</a><a href="http://code.google.com/p/pyminuit/" style="display: block;" class="menuItem">pyminuit</a><a href="http://code.google.com/p/pyminuit2/" style="display: block;" class="menuItem">pyminuit2</a><a href="http://code.google.com/p/svgfig/" style="display: block;" class="menuItem">svgfig</a></div><div class="menuCategory controls"><hr class="menuSeparator"><a href="http://code.google.com/hosting/" style="display: block;" class="menuItem">Find open source projects...</a><a href="http://code.google.com/hosting/createProject" style="display: block;" class="menuItem">Create a project...</a></div></div><div style="position: absolute; display: none; top: 18px; left: 753px;" id="menuDiv-multilogin-dropdown" class="menuDiv instance1"><div class="menuCategory default first"><span style="display: block;" class="menuText"><b>jpivarski@gmail.com</b></span><a href="http://code.google.com/p/babudb/wiki/FAQ?authuser=1" style="display: block;" class="menuItem">jim.pivarski@opendatagroup.com</a></div><div class="menuCategory controls"><hr class="menuSeparator"><a href="http://www.google.com/accounts/AddSession?service=code&amp;continue=http%3A%2F%2Fcode.google.com%2Fp%2Fbabudb%2Fwiki%2FFAQ" style="display: block;" class="menuItem"><nobr>Sign in with another account...</nobr></a></div></div></body></html>